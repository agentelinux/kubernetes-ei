{
  "kind":"DeploymentConfig",
  "apiVersion":"v1",
  "metadata":{
    "name":"mysql-wso2cabon"
  },
  "spec":{
    "strategy":{
      "type":"Recreate"
    },
    "triggers":[
      {
        "type":"ConfigChange"
      }
    ],
    "replicas":1,
    "selector":{
      "name":"mysql-wso2cabon"
    },
    "template":{
      "metadata":{
        "labels":{
          "name":"mysql-wso2cabon"
        }
      },
      "spec":{
        "containers":[
          {
            "name":"mysql-wso2cabon",
            "image":"openshift/wso2ei-kubernetes-mysql:latest",
            "volumeMounts": [
              {
                "name": "wso2ei-data",
                "mountPath": "/var/lib/mysql"
              }
            ],            
            "ports":[
              {
                "containerPort":3306,
                "protocol":"TCP"
              }
            ],
            "readinessProbe": {
              "timeoutSeconds": 15,
              "initialDelaySeconds": 5,
              "periodSeconds": 10,
              "successThreshold": 1,
              "failureThreshold": 3,
              "tcpSocket":
                  {
                    "port": 3306
                  }
            },
            "env":[
              {
                "name":"MYSQL_USER",
                "value":"wso2carbon"
              },
              {
                "name":"MYSQL_PASSWORD",
                "value":"wso2carbon"
              },
              {
                "name":"MYSQL_ROOT_PASSWORD",
                "value":"root"
              }
            ],
            "terminationMessagePath":"/dev/termination-log",
            "imagePullPolicy":"IfNotPresent",
            "securityContext":{
              "capabilities":{

              },
              "privileged":false
            }
          }
        ],
        "volumes": [
          {
            "name": "wso2ei-data",
            "persistentVolumeClaim": {
              "claimName": "claim-wso2ei-mysql"
            }
          }
        ],        
        "restartPolicy":"Always",
        "dnsPolicy":"ClusterFirst"
      }
    }
  }
}